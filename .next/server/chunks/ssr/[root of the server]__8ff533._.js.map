{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Pruthvi%20Patel/Downloads/lab6-kathan/src/app/students/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Student } from \"@/types/student\";\r\n\r\nexport default function StudentPage() {\r\n  const [students, setStudents] = useState<Student[]>([]);\r\n  const [form, setForm] = useState({ name: \"\", email: \"\", age: \"\" });\r\n  const [editingStudent, setEditingStudent] = useState<Student | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const fetchStudents = async () => {\r\n    const res = await fetch(\"/api/students\");\r\n    const data = await res.json();\r\n    setStudents(data);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (editingStudent) {\r\n      // Update existing student\r\n      await fetch(`/api/students/${editingStudent._id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ ...form, age: Number(form.age) }),\r\n      });\r\n      setEditingStudent(null);  \r\n    } else {\r\n      // Add new student\r\n      await fetch(\"/api/students\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ ...form, age: Number(form.age) }),\r\n      });\r\n    }\r\n    setForm({ name: \"\", email: \"\", age: \"\" });\r\n    fetchStudents();\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    await fetch(`/api/students/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    fetchStudents();\r\n  };\r\n\r\n  const handleEdit = (student: Student) => {\r\n    setEditingStudent(student);\r\n    setForm({ name: student.name, email: student.email, age: student.age.toString() });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold\">{editingStudent ? \"Edit Student\" : \"Add Student\"}</h1>\r\n      <form onSubmit={handleSubmit} className=\"space-y-2\">\r\n        <input\r\n          className=\"border p-2 w-full\"\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          value={form.name}\r\n          onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          className=\"border p-2 w-full\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={form.email}\r\n          onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n          required\r\n        />\r\n        <input\r\n          className=\"border p-2 w-full\"\r\n          type=\"number\"\r\n          placeholder=\"Age\"\r\n          value={form.age}\r\n          onChange={(e) => setForm({ ...form, age: e.target.value })}\r\n          required\r\n        />\r\n        <button className=\"bg-blue-500 text-white p-2 w-full\">\r\n          {editingStudent ? \"Update Student\" : \"Add Student\"}\r\n        </button>\r\n      </form>\r\n\r\n      <ul className=\"mt-4 space-y-2\">\r\n        {students.map((student) => (\r\n          <li key={student._id} className=\"border p-2 flex justify-between\">\r\n            <span>{student.name} - {student.email} - {student.age} years old</span>\r\n            <div>\r\n              <button onClick={() => handleEdit(student)} className=\"text-yellow-500 mr-2\">Edit</button>\r\n              <button onClick={() => handleDelete(student._id!)} className=\"text-red-500\">Delete</button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAIe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,MAAM;QAAI,OAAO;QAAI,KAAK;IAAG;IAChE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IAErE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,MAAM,MAAM,MAAM,MAAM;QACxB,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,YAAY;IACd;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,gBAAgB;YAClB,0BAA0B;YAC1B,MAAM,MAAM,CAAC,cAAc,EAAE,eAAe,GAAG,EAAE,EAAE;gBACjD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,KAAK,OAAO,KAAK,GAAG;gBAAE;YACxD;YACA,kBAAkB;QACpB,OAAO;YACL,kBAAkB;YAClB,MAAM,MAAM,iBAAiB;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,KAAK,OAAO,KAAK,GAAG;gBAAE;YACxD;QACF;QACA,QAAQ;YAAE,MAAM;YAAI,OAAO;YAAI,KAAK;QAAG;QACvC;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,MAAM,MAAM,CAAC,cAAc,EAAE,IAAI,EAAE;YACjC,QAAQ;QACV;QACA;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,kBAAkB;QAClB,QAAQ;YAAE,MAAM,QAAQ,IAAI;YAAE,OAAO,QAAQ,KAAK;YAAE,KAAK,QAAQ,GAAG,CAAC,QAAQ;QAAG;IAClF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAsB,iBAAiB,iBAAiB;;;;;;0BACtE,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,IAAI;wBAChB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4BAAC;wBACzD,QAAQ;;;;;;kCAEV,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,KAAK;wBACjB,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAC1D,QAAQ;;;;;;kCAEV,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,aAAY;wBACZ,OAAO,KAAK,GAAG;wBACf,UAAU,CAAC,IAAM,QAAQ;gCAAE,GAAG,IAAI;gCAAE,KAAK,EAAE,MAAM,CAAC,KAAK;4BAAC;wBACxD,QAAQ;;;;;;kCAEV,8OAAC;wBAAO,WAAU;kCACf,iBAAiB,mBAAmB;;;;;;;;;;;;0BAIzC,8OAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;wBAAqB,WAAU;;0CAC9B,8OAAC;;oCAAM,QAAQ,IAAI;oCAAC;oCAAI,QAAQ,KAAK;oCAAC;oCAAI,QAAQ,GAAG;oCAAC;;;;;;;0CACtD,8OAAC;;kDACC,8OAAC;wCAAO,SAAS,IAAM,WAAW;wCAAU,WAAU;kDAAuB;;;;;;kDAC7E,8OAAC;wCAAO,SAAS,IAAM,aAAa,QAAQ,GAAG;wCAAI,WAAU;kDAAe;;;;;;;;;;;;;uBAJvE,QAAQ,GAAG;;;;;;;;;;;;;;;;AAW9B"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Pruthvi%20Patel/Downloads/lab6-kathan/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n    } else if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAQzC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1CJ,OAAOC,OAAO,GAAGC,QAAQ;QAC3B,OAAO,IAAIL,QAAQC,GAAG,CAACO,SAAS,EAAE;;QAIlC;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Pruthvi%20Patel/Downloads/lab6-kathan/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Pruthvi%20Patel/Downloads/lab6-kathan/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0]}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}